<div class="wrapper" *ngIf="article"> 
    <!-- ngIf article -- to prevent loading form before the article is fetched -->

    <div class="property">
        <label>Title:</label>
        <input type="text" [(ngModel)]="article.title" (keyup)="updateKey()" (blur)="updateKey()"/>
    </div>

    <div class="property">
        <label>Key:</label>
        <input type="text" [(ngModel)]="article.key" disabled="disabled"/>
    </div>

    <div class="property">
        <label>Date:</label>
        <input type="text" [(ngModel)]="article.date" />
    </div>

    <div class="imageUrl">
        <label>Image URL:</label>
        <input type="text" [(ngModel)]="article.imageUrl" />
    </div>

    <div class="imageUrl">
        <label>Description:</label>
        <textarea type="text" [(ngModel)]="article.description" class ="description"></textarea>
        <div class="character-count">Characters: {{article.description.length}}</div>
    </div>

    <div class="imageUrl">
        <label>Content:</label>
        <textarea type="text" [(ngModel)]="article.content"></textarea>
    </div>

    <div class="character-count">Article is 
        <span style="color: green" *ngIf="article.published">online</span>
        <span style="color: red" *ngIf="!article.published">offline</span>.
    </div>

<div>
    <button style="background-color:red; margin-right: 10px" *ngIf="!isNew" (click)="deleteArticle()">Delete</button>
    <button (click)="viewPreview()" *ngIf="!isNew" style="margin-right: 10px">Preview</button>
    <button (click)="updateArticle()" *ngIf="!isNew">Update</button>
    <button (click)="createArticle()" *ngIf="isNew">Save as draft</button>
    <div *ngIf="saved" style ="color: green">
        Saved.
        <a routerLink="../../{{article.key}}">View article.</a>
    </div>
</div>



</div>